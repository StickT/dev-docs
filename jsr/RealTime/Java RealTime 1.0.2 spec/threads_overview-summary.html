<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Mon Jun 26 19:39:43 EDT 2006 -->
<TITLE>
Overview (Real-Time Threads)
</TITLE>

<META NAME="keywords" CONTENT="Overview">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Overview (Real-Time Threads)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">

<HR>
Real-Time Threads 
This section describes the two real-time thread classes.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#overview_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Packages</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="20%"><B><A HREF="javax/realtime/package-summary.html">javax.realtime</A></B></TD>
<TD>&nbsp;</TD>
</TR>
</TABLE>

<P>
&nbsp;<A NAME="overview_description"><!-- --></A>
<P>
<H1>Real-Time Threads </H1>
<P>This section describes the two real-time thread classes. These classes: </P>
<UL>
  <LI>Provide for the creation of real-time threads that have more precise 
  scheduling semantics than <CODE>java.lang.Thread.</CODE> 
  <LI>Provide for the creation of real-time threads that have no dependency on 
  the heap. </LI></UL>
<P>The <CODE>RealtimeThread</CODE> class extends 
<CODE>java.lang.Thread</CODE>. The <CODE>ReleaseParameters, SchedulingParameters,</CODE> and <CODE>MemoryParameters</CODE> 
  objects passed to the <CODE>RealtimeThread</CODE> constructor allow the temporal 
  and processor demands of the thread to be communicated to the <font color="#000000">scheduler</font>.&nbsp; 
</P>
                <P>The <CODE>NoHeapRealtimeThread</CODE> class extends 
<CODE>RealtimeThread</CODE>. A <CODE>NoHeapRealtimeThread</CODE> is not 
allowed to allocate or even reference objects from the Java heap, and can thus 
safely execute in preference to the garbage collector.</P>
                <H2>Overview </H2>
                <P>The RTSJ provides two types of objects which implement the <TT>Schedulable 
  </TT>interface: real-time threads and asynchronous event handlers. This chapter defines the facilities that are available to real-time threads. In many cases these facilities are also available to asynchronous event handlers. In particular:</P>
<UL>
  <LI>the default scheduler  must support the scheduling of both real-time threads and asynchronous event handlers;<LI>real-time threads and asynchronous event handlers are allowed to enter 
  into memory areas and consequently they have associated scope stacks; 
  <LI>the flow of control of real-time threads and asynchronous event handlers 
  are affected by the RTSJ asynchronous transfer of control facilities; 
</LI></UL>
Where the semantics and requirements apply to both real-time threads and asynchronous 
event handlers, the term schedulable object will be used.<BR>
<H2>Semantics and Requirements for Real-time Threads</H2>
<OL>
  <LI>Garbage collection executing in the context of a Java thread must not in itself block execution of a no-heap thread with a higher execution eligibility, however application locks work as specified even when the lock causes synchronization between a heap-using thread and a no-heap thread.<LI>Each real-time thread has an attribute which indicates whether an <code>AsynchronouslyInterruptedException</code> is pending. 
    This attribute is set when a call to <TT>RealtimeThread.interrupt()</TT> is made on the associated real-time thread, and when an asynchronously interrupted exception's <code>fire</code> method is invoked between the time the real-time thread has entered  that exception's <code>doInterruptible</code> method, and return from <code>doInterruptible</code>. (See the <A HREF="async_overview-summary.html"><em>Asynchrony</em></A> chapter.) 
    <LI>A call to <TT>RealtimeThread.interrupt() </TT>generates the system's generic&nbsp;<TT></TT><TT>AsynchronouslyInterruptedException.</TT> 
    (See the <A HREF="async_overview-summary.html"><em>Asynchrony</em></A> chapter.) 
  <LI>The <TT>RealtimeThread.waitForNextPeriod</TT>  and <code>waitForNextPeriodInterruptible</code> methods are for use by real-time threads that have periodic release parameters. In the absence of any deadline miss or cost overrun (or an interrupt in the case of <code>waitForNextPeriodInterruptible</code>) the methods return when the real-time thread's next period is due.<LI>In the presence of a cost overrun or a deadline miss, the behavior of &nbsp;<TT>waitForNextPeriod</TT> 
    is governed by the thread's scheduler. 
  <li> Instances of <code>RealtimeThread</code> that are created in scoped memory 
    and instances of <code>NoHeapRealtimeThread</code> do not have conventional 
    references to thread groups nor do thread groups have conventional references 
    to these threads. For the purposes of this version of the specification those 
    references are <code>null</code>.</li>
  <li>Real-time threads with null thread groups handle uncaught exceptions as 
    if the thread used the <code>uncaughtException</code> method in <code>ThreadGroup</code>: 
    <ul>
      <li>if the exception is a subclass of <code>ThreadDeath</code> the thread 
        simply terminates</li>
      <li>otherwise the thread prints a stack trace of the exception to <code>System.err</code> 
        before it terminates. </li>
    </ul>
  </li>
</OL>
<H2>Rationale</H2>
<P>The Java platform's priority-preemptive dispatching model is very similar to 
  the dispatching model found in the majority of commercial real-time operating 
  systems.&nbsp; However, the dispatching semantics were purposefully relaxed 
  in order to allow execution on a wide variety of operating systems.&nbsp; Thus, 
  it is appropriate to specify real-time threads by extending <CODE>java.lang.Thread</CODE>.&nbsp; 
  The <CODE>ReleaseParameters</CODE> and <CODE>MemoryParameters</CODE> provided 
  to the <CODE>RealtimeThread</CODE> constructor allow for a number of common 
  real-time thread types, including periodic threads. </P>
<P>The 
<CODE>NoHeapRealtimeThread</CODE> class is provided in order to allow 
time-critical threads to execute in preference to the garbage collector given 
appropriate assignment of execution eligibility. The memory access and 
assignment semantics of the <CODE>NoHeapRealtimeThread</CODE> are designed to 
guarantee that the execution of such threads does not lead to an inconsistent 
heap state.</P>
<P>

<P>
<HR>

<HR>

</BODY>
</HTML>
